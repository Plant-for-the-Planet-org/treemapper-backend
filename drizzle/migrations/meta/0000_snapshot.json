{
  "id": "dda6c028-3754-4e44-984a-9a9ce2ff8ed1",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.audit_log": {
      "name": "audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "audit_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "audit_entity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_uid": {
          "name": "entity_uid",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "changed_fields": {
          "name": "changed_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'web'"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "audit_log_entity_audit_idx": {
          "name": "audit_log_entity_audit_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_user_activity_idx": {
          "name": "audit_log_user_activity_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "user_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_workspace_audit_idx": {
          "name": "audit_log_workspace_audit_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "workspace_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_log_user_id_user_id_fk": {
          "name": "audit_log_user_id_user_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "audit_log_workspace_id_workspace_id_fk": {
          "name": "audit_log_workspace_id_workspace_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "audit_log_project_id_project_id_fk": {
          "name": "audit_log_project_id_project_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "audit_log_uid_unique": {
          "name": "audit_log_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "valid_entity_id": {
          "name": "valid_entity_id",
          "value": "length(trim(entity_id)) > 0"
        },
        "valid_source": {
          "name": "valid_source",
          "value": "source IN ('web', 'mobile', 'api', 'system', 'migration')"
        },
        "occurred_at_not_future": {
          "name": "occurred_at_not_future",
          "value": "occurred_at <= NOW()"
        }
      },
      "isRLSEnabled": false
    },
    "public.bulk_invite": {
      "name": "bulk_invite",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "email_domain_restrictions": {
          "name": "email_domain_restrictions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_role": {
          "name": "project_role",
          "type": "project_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'contributor'"
        },
        "invited_by_id": {
          "name": "invited_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "discarded_by_id": {
          "name": "discarded_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "discarded_at": {
          "name": "discarded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "invite_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "token": {
          "name": "token",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "max_uses": {
          "name": "max_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "current_uses": {
          "name": "current_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_invites_sent": {
          "name": "total_invites_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_accepted": {
          "name": "total_accepted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bulk_invite_project_active_idx": {
          "name": "bulk_invite_project_active_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bulk_invite_token_active_idx": {
          "name": "bulk_invite_token_active_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "status = 'pending' AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bulk_invite_project_id_project_id_fk": {
          "name": "bulk_invite_project_id_project_id_fk",
          "tableFrom": "bulk_invite",
          "tableTo": "project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bulk_invite_invited_by_id_user_id_fk": {
          "name": "bulk_invite_invited_by_id_user_id_fk",
          "tableFrom": "bulk_invite",
          "tableTo": "user",
          "columnsFrom": [
            "invited_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bulk_invite_discarded_by_id_user_id_fk": {
          "name": "bulk_invite_discarded_by_id_user_id_fk",
          "tableFrom": "bulk_invite",
          "tableTo": "user",
          "columnsFrom": [
            "discarded_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bulk_invite_uid_unique": {
          "name": "bulk_invite_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "bulk_invite_token_unique": {
          "name": "bulk_invite_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "expires_in_future": {
          "name": "expires_in_future",
          "value": "expires_at > created_at"
        },
        "max_uses_positive": {
          "name": "max_uses_positive",
          "value": "max_uses IS NULL OR max_uses > 0"
        },
        "current_uses_valid": {
          "name": "current_uses_valid",
          "value": "current_uses >= 0 AND (max_uses IS NULL OR current_uses <= max_uses)"
        },
        "analytics_valid": {
          "name": "analytics_valid",
          "value": "total_invites_sent >= 0 AND total_accepted >= 0 AND total_accepted <= total_invites_sent"
        },
        "expired_or_discarded_not_pending": {
          "name": "expired_or_discarded_not_pending",
          "value": "(status != 'expired' OR expires_at <= NOW()) AND (status != 'discarded' OR discarded_by_id IS NOT NULL)"
        },
        "discarded_has_timestamp": {
          "name": "discarded_has_timestamp",
          "value": "discarded_by_id IS NULL OR discarded_at IS NOT NULL"
        },
        "valid_email_domains": {
          "name": "valid_email_domains",
          "value": "array_length(email_domain_restrictions, 1) IS NULL OR array_length(email_domain_restrictions, 1) > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.image": {
      "name": "image",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'overview'"
        },
        "entity_id": {
          "name": "entity_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "image_entity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_name": {
          "name": "original_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "image_upload_device",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_private": {
          "name": "is_private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "storage_provider": {
          "name": "storage_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'r2'"
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thumbnail_path": {
          "name": "thumbnail_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compression_ratio": {
          "name": "compression_ratio",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by_id": {
          "name": "uploaded_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "alt_text": {
          "name": "alt_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "image_entity_lookup_idx": {
          "name": "image_entity_lookup_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "image_primary_idx": {
          "name": "image_primary_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_primary",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_primary = true AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "image_uploaded_by_id_user_id_fk": {
          "name": "image_uploaded_by_id_user_id_fk",
          "tableFrom": "image",
          "tableTo": "user",
          "columnsFrom": [
            "uploaded_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "image_uid_unique": {
          "name": "image_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "size_positive": {
          "name": "size_positive",
          "value": "size IS NULL OR size > 0"
        },
        "dimensions_positive": {
          "name": "dimensions_positive",
          "value": "(width IS NULL OR width > 0) AND (height IS NULL OR height > 0)"
        },
        "reasonable_file_size": {
          "name": "reasonable_file_size",
          "value": "size IS NULL OR size <= 104857600"
        },
        "primary_image_logic": {
          "name": "primary_image_logic",
          "value": "is_primary = false OR (is_primary = true AND deleted_at IS NULL)"
        },
        "valid_mime_type": {
          "name": "valid_mime_type",
          "value": "mime_type IS NULL OR mime_type ~* '^image/(jpeg|jpg|png|gif|webp|svg+xml)$'"
        },
        "filename_required": {
          "name": "filename_required",
          "value": "filename IS NOT NULL AND length(trim(filename)) > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.intervention": {
      "name": "intervention",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hid": {
          "name": "hid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "intervention_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "intervention_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'planned'"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "registration_date": {
          "name": "registration_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "intervention_start_date": {
          "name": "intervention_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "intervention_end_date": {
          "name": "intervention_end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "geometry(Geometry,4326)",
          "primaryKey": false,
          "notNull": false
        },
        "area": {
          "name": "area",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "total_tree_count": {
          "name": "total_tree_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_sample_tree_count": {
          "name": "total_sample_tree_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "capture_mode": {
          "name": "capture_mode",
          "type": "capture_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'on-site'"
        },
        "capture_status": {
          "name": "capture_status",
          "type": "capture_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'complete'"
        },
        "device_location": {
          "name": "device_location",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "original_geometry": {
          "name": "original_geometry",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_private": {
          "name": "is_private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "flag": {
          "name": "flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "edited_at": {
          "name": "edited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "flag_reason": {
          "name": "flag_reason",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "migrated_intervention": {
          "name": "migrated_intervention",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "intervention_project_date_range_idx": {
          "name": "intervention_project_date_range_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "intervention_start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "intervention_project_type_status_idx": {
          "name": "intervention_project_type_status_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "intervention_location_gist_idx": {
          "name": "intervention_location_gist_idx",
          "columns": [
            {
              "expression": "location",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gist",
          "with": {}
        },
        "intervention_user_idx": {
          "name": "intervention_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "intervention_end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "intervention_user_id_user_id_fk": {
          "name": "intervention_user_id_user_id_fk",
          "tableFrom": "intervention",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "intervention_project_id_project_id_fk": {
          "name": "intervention_project_id_project_id_fk",
          "tableFrom": "intervention",
          "tableTo": "project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "intervention_site_id_site_id_fk": {
          "name": "intervention_site_id_site_id_fk",
          "tableFrom": "intervention",
          "tableTo": "site",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "intervention_uid_unique": {
          "name": "intervention_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "intervention_hid_unique": {
          "name": "intervention_hid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "hid"
          ]
        },
        "intervention_idempotency_key_unique": {
          "name": "intervention_idempotency_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "idempotency_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "valid_date_range": {
          "name": "valid_date_range",
          "value": "intervention_start_date <= intervention_end_date"
        },
        "area_positive": {
          "name": "area_positive",
          "value": "area IS NULL OR area >= 0"
        },
        "tree_counts_non_negative": {
          "name": "tree_counts_non_negative",
          "value": "total_tree_count >= 0 AND total_sample_tree_count >= 0"
        },
        "flagged_has_reason": {
          "name": "flagged_has_reason",
          "value": "flag = false OR flag_reason IS NOT NULL"
        },
        "registration_not_future": {
          "name": "registration_not_future",
          "value": "registration_date <= NOW()"
        }
      },
      "isRLSEnabled": false
    },
    "public.intervention_species": {
      "name": "intervention_species",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intervention_id": {
          "name": "intervention_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "scientific_species_id": {
          "name": "scientific_species_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_unknown": {
          "name": "is_unknown",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "species_name": {
          "name": "species_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "species_count": {
          "name": "species_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "intervention_species_intervention_idx": {
          "name": "intervention_species_intervention_idx",
          "columns": [
            {
              "expression": "intervention_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "intervention_species_intervention_id_intervention_id_fk": {
          "name": "intervention_species_intervention_id_intervention_id_fk",
          "tableFrom": "intervention_species",
          "tableTo": "intervention",
          "columnsFrom": [
            "intervention_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "intervention_species_scientific_species_id_scientific_species_id_fk": {
          "name": "intervention_species_scientific_species_id_scientific_species_id_fk",
          "tableFrom": "intervention_species",
          "tableTo": "scientific_species",
          "columnsFrom": [
            "scientific_species_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "intervention_species_uid_unique": {
          "name": "intervention_species_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "unknown_species_logic": {
          "name": "unknown_species_logic",
          "value": "(is_unknown = false AND scientific_species_id IS NOT NULL) OR (is_unknown = true AND scientific_species_id IS NULL)"
        },
        "species_count_positive": {
          "name": "species_count_positive",
          "value": "species_count > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.migration": {
      "name": "migration",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "planet_id": {
          "name": "planet_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "migration_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_progress'"
        },
        "migrated_entities": {
          "name": "migrated_entities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"user\":false,\"projects\":false,\"sites\":false,\"species\":false,\"interventions\":false,\"images\":false}'::jsonb"
        },
        "migration_completed_at": {
          "name": "migration_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "migration_version": {
          "name": "migration_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "flag": {
          "name": "flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag_reason": {
          "name": "flag_reason",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "migration_id_idx": {
          "name": "migration_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_user_id_user_id_fk": {
          "name": "migration_user_id_user_id_fk",
          "tableFrom": "migration",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "migration_uid_unique": {
          "name": "migration_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "migration_planet_id_unique": {
          "name": "migration_planet_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "planet_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.migration_log": {
      "name": "migration_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "migration_id": {
          "name": "migration_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "log_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity": {
          "name": "entity",
          "type": "entity_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stack_trace": {
          "name": "stack_trace",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "migration_logs_idx": {
          "name": "migration_logs_idx",
          "columns": [
            {
              "expression": "migration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_log_migration_id_migration_id_fk": {
          "name": "migration_log_migration_id_migration_id_fk",
          "tableFrom": "migration_log",
          "tableTo": "migration",
          "columnsFrom": [
            "migration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'other'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "action_url": {
          "name": "action_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_text": {
          "name": "action_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_method": {
          "name": "delivery_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "batch_id": {
          "name": "batch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "notifications_user_unread_active_idx": {
          "name": "notifications_user_unread_active_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_read",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_read = false AND is_archived = false",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "notifications_user_list_idx": {
          "name": "notifications_user_list_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "notifications_scheduled_processing_idx": {
          "name": "notifications_scheduled_processing_idx",
          "columns": [
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "scheduled_for IS NOT NULL AND sent_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notifications_user_id_user_id_fk": {
          "name": "notifications_user_id_user_id_fk",
          "tableFrom": "notifications",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notifications_uid_unique": {
          "name": "notifications_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "valid_priority": {
          "name": "valid_priority",
          "value": "priority IN ('low', 'normal', 'high', 'urgent')"
        },
        "scheduled_in_future": {
          "name": "scheduled_in_future",
          "value": "scheduled_for IS NULL OR scheduled_for >= created_at"
        },
        "expires_after_creation": {
          "name": "expires_after_creation",
          "value": "expires_at IS NULL OR expires_at > created_at"
        },
        "delivered_after_sent": {
          "name": "delivered_after_sent",
          "value": "delivered_at IS NULL OR sent_at IS NULL OR delivered_at >= sent_at"
        },
        "retry_count_valid": {
          "name": "retry_count_valid",
          "value": "retry_count >= 0 AND retry_count <= 10"
        }
      },
      "isRLSEnabled": false
    },
    "public.project": {
      "name": "project",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ecosystem": {
          "name": "ecosystem",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scale": {
          "name": "scale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "classification": {
          "name": "classification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target": {
          "name": "target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "original_geometry": {
          "name": "original_geometry",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_url": {
          "name": "video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "char(3)",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "geometry(Geometry,4326)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_personal": {
          "name": "is_personal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "intensity": {
          "name": "intensity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revision_periodicity": {
          "name": "revision_periodicity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "migrated_project": {
          "name": "migrated_project",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag": {
          "name": "flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag_reason": {
          "name": "flag_reason",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "project_workspace_active_idx": {
          "name": "project_workspace_active_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_public",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_user_projects_idx": {
          "name": "project_user_projects_idx",
          "columns": [
            {
              "expression": "created_by_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_location_gist_idx": {
          "name": "project_location_gist_idx",
          "columns": [
            {
              "expression": "location",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gist",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_created_by_id_user_id_fk": {
          "name": "project_created_by_id_user_id_fk",
          "tableFrom": "project",
          "tableTo": "user",
          "columnsFrom": [
            "created_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_workspace_id_workspace_id_fk": {
          "name": "project_workspace_id_workspace_id_fk",
          "tableFrom": "project",
          "tableTo": "workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_uid_unique": {
          "name": "project_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "project_slug_unique": {
          "name": "project_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "target_positive": {
          "name": "target_positive",
          "value": "target IS NULL OR target > 0"
        },
        "valid_intensity": {
          "name": "valid_intensity",
          "value": "intensity IS NULL OR intensity IN ('low', 'medium', 'high')"
        },
        "valid_scale": {
          "name": "valid_scale",
          "value": "scale IS NULL OR scale IN ('small', 'medium', 'large', 'enterprise')"
        },
        "website_format": {
          "name": "website_format",
          "value": "website IS NULL OR website ~* '^https?://'"
        },
        "primary_project_logic": {
          "name": "primary_project_logic",
          "value": "is_primary = false OR (is_primary = true AND is_active = true)"
        },
        "public_project_logic": {
          "name": "public_project_logic",
          "value": "is_personal = false OR is_public = false"
        },
        "flagged_project_reason": {
          "name": "flagged_project_reason",
          "value": "flag = false OR flag_reason IS NOT NULL"
        }
      },
      "isRLSEnabled": false
    },
    "public.project_invite": {
      "name": "project_invite",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_role": {
          "name": "project_role",
          "type": "project_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'contributor'"
        },
        "invited_by_id": {
          "name": "invited_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "discarded_by_id": {
          "name": "discarded_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "discarded_at": {
          "name": "discarded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "invite_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "token": {
          "name": "token",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "invite_hash": {
          "name": "invite_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "project_invite_project_status_idx": {
          "name": "project_invite_project_status_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_invite_token_active_idx": {
          "name": "project_invite_token_active_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "status = 'pending'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_invite_inviter_idx": {
          "name": "project_invite_inviter_idx",
          "columns": [
            {
              "expression": "invited_by_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_invite_project_id_project_id_fk": {
          "name": "project_invite_project_id_project_id_fk",
          "tableFrom": "project_invite",
          "tableTo": "project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_invite_invited_by_id_user_id_fk": {
          "name": "project_invite_invited_by_id_user_id_fk",
          "tableFrom": "project_invite",
          "tableTo": "user",
          "columnsFrom": [
            "invited_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "project_invite_discarded_by_id_user_id_fk": {
          "name": "project_invite_discarded_by_id_user_id_fk",
          "tableFrom": "project_invite",
          "tableTo": "user",
          "columnsFrom": [
            "discarded_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_invite_uid_unique": {
          "name": "project_invite_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "project_invite_token_unique": {
          "name": "project_invite_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "accepted_before_expiry": {
          "name": "accepted_before_expiry",
          "value": "accepted_at IS NULL OR accepted_at <= expires_at"
        },
        "expires_in_future": {
          "name": "expires_in_future",
          "value": "expires_at > created_at"
        },
        "valid_email": {
          "name": "valid_email",
          "value": "email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,}$'"
        },
        "accepted_status_has_timestamp": {
          "name": "accepted_status_has_timestamp",
          "value": "status != 'accepted' OR accepted_at IS NOT NULL"
        },
        "discarded_status_has_details": {
          "name": "discarded_status_has_details",
          "value": "status != 'discarded' OR (discarded_by_id IS NOT NULL AND discarded_at IS NOT NULL)"
        },
        "expired_status_after_expiry": {
          "name": "expired_status_after_expiry",
          "value": "status != 'expired' OR expires_at <= NOW()"
        },
        "retry_count_valid": {
          "name": "retry_count_valid",
          "value": "retry_count >= 0 AND retry_count <= 5"
        },
        "delivered_after_sent": {
          "name": "delivered_after_sent",
          "value": "delivered_at IS NULL OR sent_at IS NULL OR delivered_at >= sent_at"
        }
      },
      "isRLSEnabled": false
    },
    "public.project_member": {
      "name": "project_member",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "project_role": {
          "name": "project_role",
          "type": "project_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'contributor'"
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "invited_by_id": {
          "name": "invited_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "member_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "site_access": {
          "name": "site_access",
          "type": "site_access",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'all_sites'"
        },
        "restricted_sites": {
          "name": "restricted_sites",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "bulk_invite_id": {
          "name": "bulk_invite_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "project_members_active_idx": {
          "name": "project_members_active_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_members_user_active_idx": {
          "name": "project_members_user_active_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_member_project_id_project_id_fk": {
          "name": "project_member_project_id_project_id_fk",
          "tableFrom": "project_member",
          "tableTo": "project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_member_user_id_user_id_fk": {
          "name": "project_member_user_id_user_id_fk",
          "tableFrom": "project_member",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_member_invited_by_id_user_id_fk": {
          "name": "project_member_invited_by_id_user_id_fk",
          "tableFrom": "project_member",
          "tableTo": "user",
          "columnsFrom": [
            "invited_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "project_member_bulk_invite_id_bulk_invite_id_fk": {
          "name": "project_member_bulk_invite_id_bulk_invite_id_fk",
          "tableFrom": "project_member",
          "tableTo": "bulk_invite",
          "columnsFrom": [
            "bulk_invite_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_member_uid_unique": {
          "name": "project_member_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "unique_project_member": {
          "name": "unique_project_member",
          "nullsNotDistinct": false,
          "columns": [
            "project_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "joined_after_invited": {
          "name": "joined_after_invited",
          "value": "invited_at IS NULL OR joined_at IS NULL OR joined_at >= invited_at"
        },
        "active_member_joined": {
          "name": "active_member_joined",
          "value": "status != 'active' OR joined_at IS NOT NULL"
        },
        "inviter_not_self": {
          "name": "inviter_not_self",
          "value": "invited_by_id IS NULL OR invited_by_id != user_id"
        },
        "restricted_sites_valid_access": {
          "name": "restricted_sites_valid_access",
          "value": "site_access != 'limited_access' OR array_length(restricted_sites, 1) > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.project_species": {
      "name": "project_species",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "scientific_species_id": {
          "name": "scientific_species_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_unknown": {
          "name": "is_unknown",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "species_name": {
          "name": "species_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "common_name": {
          "name": "common_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "favourite": {
          "name": "favourite",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_disabled": {
          "name": "is_disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "added_by_id": {
          "name": "added_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "scientific_species_id_Idx": {
          "name": "scientific_species_id_Idx",
          "columns": [
            {
              "expression": "scientific_species_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_species_project_id_project_id_fk": {
          "name": "project_species_project_id_project_id_fk",
          "tableFrom": "project_species",
          "tableTo": "project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_species_scientific_species_id_scientific_species_id_fk": {
          "name": "project_species_scientific_species_id_scientific_species_id_fk",
          "tableFrom": "project_species",
          "tableTo": "scientific_species",
          "columnsFrom": [
            "scientific_species_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "project_species_added_by_id_user_id_fk": {
          "name": "project_species_added_by_id_user_id_fk",
          "tableFrom": "project_species",
          "tableTo": "user",
          "columnsFrom": [
            "added_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_species_uid_unique": {
          "name": "project_species_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "unique_project_species": {
          "name": "unique_project_species",
          "nullsNotDistinct": false,
          "columns": [
            "project_id",
            "scientific_species_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scientific_species": {
      "name": "scientific_species",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scientific_name": {
          "name": "scientific_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "common_name": {
          "name": "common_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kingdom": {
          "name": "kingdom",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Plantae'"
        },
        "phylum": {
          "name": "phylum",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Tracheophyta'"
        },
        "class": {
          "name": "class",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Magnoliopsida'"
        },
        "order": {
          "name": "order",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "family": {
          "name": "family",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "genus": {
          "name": "genus",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "species": {
          "name": "species",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subspecies": {
          "name": "subspecies",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cultivar": {
          "name": "cultivar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "habitat": {
          "name": "habitat",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "native_regions": {
          "name": "native_regions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "climate_zones": {
          "name": "climate_zones",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "soil_types": {
          "name": "soil_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "drainage_preference": {
          "name": "drainage_preference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ph_tolerance": {
          "name": "ph_tolerance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "salt_tolerance": {
          "name": "salt_tolerance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mature_height": {
          "name": "mature_height",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "mature_width": {
          "name": "mature_width",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "growth_rate": {
          "name": "growth_rate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lifespan": {
          "name": "lifespan",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "root_system": {
          "name": "root_system",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "light_requirement": {
          "name": "light_requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "water_requirement": {
          "name": "water_requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_minimum": {
          "name": "temperature_minimum",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_maximum": {
          "name": "temperature_maximum",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "frost_tolerance": {
          "name": "frost_tolerance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "drought_tolerance": {
          "name": "drought_tolerance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "conservation_status": {
          "name": "conservation_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_native": {
          "name": "is_native",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_invasive": {
          "name": "is_invasive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_endangered": {
          "name": "is_endangered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_protected": {
          "name": "is_protected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "wildlife_value": {
          "name": "wildlife_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pollinator_friendly": {
          "name": "pollinator_friendly",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "carbon_sequestration": {
          "name": "carbon_sequestration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "erosion_control": {
          "name": "erosion_control",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "windbreak_suitability": {
          "name": "windbreak_suitability",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "best_planting_months": {
          "name": "best_planting_months",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "propagation_method": {
          "name": "propagation_method",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "seed_treatment": {
          "name": "seed_treatment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "planting_spacing": {
          "name": "planting_spacing",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "companion_species": {
          "name": "companion_species",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "additional_images": {
          "name": "additional_images",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "gbif_id": {
          "name": "gbif_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iucn_id": {
          "name": "iucn_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "wikipedia_url": {
          "name": "wikipedia_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_quality": {
          "name": "data_quality",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "verified_by_id": {
          "name": "verified_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "data_source": {
          "name": "data_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "species_scientific_name_idx": {
          "name": "species_scientific_name_idx",
          "columns": [
            {
              "expression": "scientific_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "species_common_name_idx": {
          "name": "species_common_name_idx",
          "columns": [
            {
              "expression": "common_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "species_family_genus_idx": {
          "name": "species_family_genus_idx",
          "columns": [
            {
              "expression": "family",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "genus",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "species_habitat_climate_idx": {
          "name": "species_habitat_climate_idx",
          "columns": [
            {
              "expression": "habitat",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "climate_zones",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "species_soil_drainage_idx": {
          "name": "species_soil_drainage_idx",
          "columns": [
            {
              "expression": "soil_types",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "drainage_preference",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "species_conservation_native_idx": {
          "name": "species_conservation_native_idx",
          "columns": [
            {
              "expression": "conservation_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_native",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_endangered",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "species_growth_size_idx": {
          "name": "species_growth_size_idx",
          "columns": [
            {
              "expression": "growth_rate",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mature_height",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "lifespan",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "scientific_species_verified_by_id_user_id_fk": {
          "name": "scientific_species_verified_by_id_user_id_fk",
          "tableFrom": "scientific_species",
          "tableTo": "user",
          "columnsFrom": [
            "verified_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "scientific_species_uid_unique": {
          "name": "scientific_species_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "scientific_species_scientific_name_unique": {
          "name": "scientific_species_scientific_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "scientific_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "mature_height_positive": {
          "name": "mature_height_positive",
          "value": "mature_height IS NULL OR mature_height > 0"
        },
        "mature_width_positive": {
          "name": "mature_width_positive",
          "value": "mature_width IS NULL OR mature_width > 0"
        },
        "lifespan_positive": {
          "name": "lifespan_positive",
          "value": "lifespan IS NULL OR lifespan > 0"
        },
        "planting_spacing_positive": {
          "name": "planting_spacing_positive",
          "value": "planting_spacing IS NULL OR planting_spacing > 0"
        },
        "valid_temperature_range": {
          "name": "valid_temperature_range",
          "value": "temperature_minimum IS NULL OR temperature_maximum IS NULL OR temperature_minimum <= temperature_maximum"
        },
        "valid_growth_rate": {
          "name": "valid_growth_rate",
          "value": "growth_rate IS NULL OR growth_rate IN ('slow', 'moderate', 'fast')"
        },
        "valid_light_requirement": {
          "name": "valid_light_requirement",
          "value": "light_requirement IS NULL OR light_requirement IN ('full-sun', 'partial-shade', 'full-shade', 'adaptable')"
        },
        "valid_water_requirement": {
          "name": "valid_water_requirement",
          "value": "water_requirement IS NULL OR water_requirement IN ('low', 'moderate', 'high')"
        },
        "valid_data_quality": {
          "name": "valid_data_quality",
          "value": "data_quality IN ('verified', 'pending', 'draft')"
        },
        "valid_conservation_status": {
          "name": "valid_conservation_status",
          "value": "conservation_status IS NULL OR conservation_status IN ('LC', 'NT', 'VU', 'EN', 'CR', 'EW', 'EX', 'DD')"
        },
        "verified_has_verifier": {
          "name": "verified_has_verifier",
          "value": "data_quality != 'verified' OR (verified_by_id IS NOT NULL AND verified_at IS NOT NULL)"
        },
        "native_not_invasive": {
          "name": "native_not_invasive",
          "value": "NOT (is_native = true AND is_invasive = true)"
        },
        "valid_planting_months": {
          "name": "valid_planting_months",
          "value": "array_length(best_planting_months, 1) IS NULL OR (array_length(best_planting_months, 1) <= 12 AND best_planting_months <@ ARRAY[1,2,3,4,5,6,7,8,9,10,11,12])"
        }
      },
      "isRLSEnabled": false
    },
    "public.site": {
      "name": "site",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "geometry(Geometry,4326)",
          "primaryKey": false,
          "notNull": false
        },
        "area": {
          "name": "area",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "site_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'planning'"
        },
        "soil_type": {
          "name": "soil_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "elevation": {
          "name": "elevation",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "slope": {
          "name": "slope",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "aspect": {
          "name": "aspect",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "water_access": {
          "name": "water_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "accessibility": {
          "name": "accessibility",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "planned_planting_date": {
          "name": "planned_planting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "actual_planting_date": {
          "name": "actual_planting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expected_tree_count": {
          "name": "expected_tree_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "migrated_site": {
          "name": "migrated_site",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag": {
          "name": "flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag_reason": {
          "name": "flag_reason",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "original_geometry": {
          "name": "original_geometry",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "site_project_active_idx": {
          "name": "site_project_active_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "site_location_gist_idx": {
          "name": "site_location_gist_idx",
          "columns": [
            {
              "expression": "location",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gist",
          "with": {}
        },
        "site_created_by_idx": {
          "name": "site_created_by_idx",
          "columns": [
            {
              "expression": "created_by_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "site_project_id_project_id_fk": {
          "name": "site_project_id_project_id_fk",
          "tableFrom": "site",
          "tableTo": "project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "site_created_by_id_user_id_fk": {
          "name": "site_created_by_id_user_id_fk",
          "tableFrom": "site",
          "tableTo": "user",
          "columnsFrom": [
            "created_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "site_uid_unique": {
          "name": "site_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "area_positive": {
          "name": "area_positive",
          "value": "area IS NULL OR area > 0"
        },
        "elevation_range": {
          "name": "elevation_range",
          "value": "elevation IS NULL OR (elevation >= -500 AND elevation <= 9000)"
        },
        "slope_range": {
          "name": "slope_range",
          "value": "slope IS NULL OR (slope >= 0 AND slope <= 90)"
        },
        "valid_aspect": {
          "name": "valid_aspect",
          "value": "aspect IS NULL OR aspect IN ('N', 'NE', 'E', 'SE', 'S', 'SW', 'W', 'NW')"
        },
        "valid_accessibility": {
          "name": "valid_accessibility",
          "value": "accessibility IS NULL OR accessibility IN ('easy', 'moderate', 'difficult')"
        },
        "valid_soil_type": {
          "name": "valid_soil_type",
          "value": "soil_type IS NULL OR soil_type IN ('clay', 'sand', 'loam', 'rocky', 'peat', 'mixed')"
        },
        "expected_tree_count_positive": {
          "name": "expected_tree_count_positive",
          "value": "expected_tree_count IS NULL OR expected_tree_count > 0"
        },
        "actual_after_planned": {
          "name": "actual_after_planned",
          "value": "planned_planting_date IS NULL OR actual_planting_date IS NULL OR actual_planting_date >= planned_planting_date"
        },
        "planted_site_has_date": {
          "name": "planted_site_has_date",
          "value": "status != 'planted' OR actual_planting_date IS NOT NULL"
        },
        "flagged_site_reason": {
          "name": "flagged_site_reason",
          "value": "flag = false OR flag_reason IS NOT NULL"
        }
      },
      "isRLSEnabled": false
    },
    "public.species_request": {
      "name": "species_request",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scientific_name": {
          "name": "scientific_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "common_name": {
          "name": "common_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_reason": {
          "name": "request_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "family": {
          "name": "family",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "habitat": {
          "name": "habitat",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "native_region": {
          "name": "native_region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conservation_status": {
          "name": "conservation_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gbif_id": {
          "name": "gbif_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "wikipedia_url": {
          "name": "wikipedia_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by_id": {
          "name": "requested_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "urgency": {
          "name": "urgency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "status": {
          "name": "status",
          "type": "species_request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reviewed_by_id": {
          "name": "reviewed_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "admin_notes": {
          "name": "admin_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_species_id": {
          "name": "created_species_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "duplicate_of_request_id": {
          "name": "duplicate_of_request_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "species_request_review_queue_idx": {
          "name": "species_request_review_queue_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "urgency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "status = 'pending'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "species_request_user_idx": {
          "name": "species_request_user_idx",
          "columns": [
            {
              "expression": "requested_by_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "species_request_project_idx": {
          "name": "species_request_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "project_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "species_request_duplicate_idx": {
          "name": "species_request_duplicate_idx",
          "columns": [
            {
              "expression": "scientific_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "status IN ('pending', 'approved')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "species_request_requested_by_id_user_id_fk": {
          "name": "species_request_requested_by_id_user_id_fk",
          "tableFrom": "species_request",
          "tableTo": "user",
          "columnsFrom": [
            "requested_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "species_request_project_id_project_id_fk": {
          "name": "species_request_project_id_project_id_fk",
          "tableFrom": "species_request",
          "tableTo": "project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "species_request_reviewed_by_id_user_id_fk": {
          "name": "species_request_reviewed_by_id_user_id_fk",
          "tableFrom": "species_request",
          "tableTo": "user",
          "columnsFrom": [
            "reviewed_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "species_request_created_species_id_scientific_species_id_fk": {
          "name": "species_request_created_species_id_scientific_species_id_fk",
          "tableFrom": "species_request",
          "tableTo": "scientific_species",
          "columnsFrom": [
            "created_species_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "species_request_duplicate_of_request_id_species_request_id_fk": {
          "name": "species_request_duplicate_of_request_id_species_request_id_fk",
          "tableFrom": "species_request",
          "tableTo": "species_request",
          "columnsFrom": [
            "duplicate_of_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "species_request_uid_unique": {
          "name": "species_request_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "valid_urgency": {
          "name": "valid_urgency",
          "value": "urgency IN ('low', 'normal', 'high')"
        },
        "reviewed_status_has_reviewer": {
          "name": "reviewed_status_has_reviewer",
          "value": "status = 'pending' OR (reviewed_by_id IS NOT NULL AND reviewed_at IS NOT NULL)"
        },
        "rejected_has_reason": {
          "name": "rejected_has_reason",
          "value": "status != 'rejected' OR rejection_reason IS NOT NULL"
        },
        "approved_has_species": {
          "name": "approved_has_species",
          "value": "status != 'approved' OR created_species_id IS NOT NULL"
        },
        "duplicate_has_reference": {
          "name": "duplicate_has_reference",
          "value": "duplicate_of_request_id IS NULL OR status = 'rejected'"
        },
        "reviewed_at_after_created": {
          "name": "reviewed_at_after_created",
          "value": "reviewed_at IS NULL OR reviewed_at >= created_at"
        },
        "scientific_name_format": {
          "name": "scientific_name_format",
          "value": "scientific_name ~* '^[A-Z][a-z]+ [a-z]+( [a-z]+)*$'"
        }
      },
      "isRLSEnabled": false
    },
    "public.survey": {
      "name": "survey",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_completed": {
          "name": "is_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "organizationName": {
          "name": "organizationName",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_goal": {
          "name": "primary_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_demo": {
          "name": "requested_demo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "survey_user_idx": {
          "name": "survey_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "survey_user_id_user_id_fk": {
          "name": "survey_user_id_user_id_fk",
          "tableFrom": "survey",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "survey_uid_unique": {
          "name": "survey_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tree": {
      "name": "tree",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "hid": {
          "name": "hid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intervention_id": {
          "name": "intervention_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "intervention_species_id": {
          "name": "intervention_species_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "species_name": {
          "name": "species_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tag": {
          "name": "tag",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tree_type": {
          "name": "tree_type",
          "type": "tree_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'sample'"
        },
        "location": {
          "name": "location",
          "type": "geometry(Geometry,4326)",
          "primaryKey": false,
          "notNull": false
        },
        "altitude": {
          "name": "altitude",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "accuracy": {
          "name": "accuracy",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "longitude": {
          "name": "longitude",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "current_height": {
          "name": "current_height",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "current_width": {
          "name": "current_width",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "current_health_score": {
          "name": "current_health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "tree_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'alive'"
        },
        "status_reason": {
          "name": "status_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_changed_at": {
          "name": "status_changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "planting_date": {
          "name": "planting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_measurement_date": {
          "name": "last_measurement_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_measurement_date": {
          "name": "next_measurement_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "remeasured": {
          "name": "remeasured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag": {
          "name": "flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag_reason": {
          "name": "flag_reason",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tree_intervention_remeasured_idx": {
          "name": "tree_intervention_remeasured_idx",
          "columns": [
            {
              "expression": "intervention_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "remeasured",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tree_intervention_status_idx": {
          "name": "tree_intervention_status_idx",
          "columns": [
            {
              "expression": "intervention_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tree_species_idx": {
          "name": "tree_species_idx",
          "columns": [
            {
              "expression": "intervention_species_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tree_measurement_schedule_idx": {
          "name": "tree_measurement_schedule_idx",
          "columns": [
            {
              "expression": "next_measurement_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "next_measurement_date IS NOT NULL AND status = 'alive' AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tree_health_monitoring_idx": {
          "name": "tree_health_monitoring_idx",
          "columns": [
            {
              "expression": "current_health_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_measurement_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "current_health_score IS NOT NULL AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tree_intervention_id_intervention_id_fk": {
          "name": "tree_intervention_id_intervention_id_fk",
          "tableFrom": "tree",
          "tableTo": "intervention",
          "columnsFrom": [
            "intervention_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tree_intervention_species_id_intervention_species_id_fk": {
          "name": "tree_intervention_species_id_intervention_species_id_fk",
          "tableFrom": "tree",
          "tableTo": "intervention_species",
          "columnsFrom": [
            "intervention_species_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "tree_created_by_id_user_id_fk": {
          "name": "tree_created_by_id_user_id_fk",
          "tableFrom": "tree",
          "tableTo": "user",
          "columnsFrom": [
            "created_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tree_hid_unique": {
          "name": "tree_hid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "hid"
          ]
        },
        "tree_uid_unique": {
          "name": "tree_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "height_width_positive": {
          "name": "height_width_positive",
          "value": "(current_height IS NULL OR current_height >= 0) AND (current_width IS NULL OR current_width >= 0)"
        },
        "altitude_range": {
          "name": "altitude_range",
          "value": "altitude IS NULL OR (altitude >= -500 AND altitude <= 9000)"
        },
        "accuracy_positive": {
          "name": "accuracy_positive",
          "value": "accuracy IS NULL OR accuracy >= 0"
        },
        "health_score_range": {
          "name": "health_score_range",
          "value": "current_health_score IS NULL OR (current_health_score >= 0 AND current_health_score <= 100)"
        },
        "dead_tree_has_reason": {
          "name": "dead_tree_has_reason",
          "value": "status != 'dead' OR status_reason IS NOT NULL"
        },
        "status_changed_at_logic": {
          "name": "status_changed_at_logic",
          "value": "status_changed_at IS NULL OR status_changed_at <= NOW()"
        },
        "measurement_date_logic": {
          "name": "measurement_date_logic",
          "value": "last_measurement_date IS NULL OR next_measurement_date IS NULL OR next_measurement_date > last_measurement_date"
        }
      },
      "isRLSEnabled": false
    },
    "public.tree_record": {
      "name": "tree_record",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tree_id": {
          "name": "tree_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "recorded_by_id": {
          "name": "recorded_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "record_type": {
          "name": "record_type",
          "type": "record_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "height": {
          "name": "height",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vitality_score": {
          "name": "vitality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "previous_status": {
          "name": "previous_status",
          "type": "tree_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "new_status": {
          "name": "new_status",
          "type": "tree_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status_reason": {
          "name": "status_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "findings": {
          "name": "findings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "findings_severity": {
          "name": "findings_severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority_level": {
          "name": "priority_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "weather_conditions": {
          "name": "weather_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "soil_conditions": {
          "name": "soil_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "pests_observed": {
          "name": "pests_observed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "diseases_observed": {
          "name": "diseases_observed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "damage_observed": {
          "name": "damage_observed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "growth_rate": {
          "name": "growth_rate",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "leaf_density": {
          "name": "leaf_density",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fruiting_status": {
          "name": "fruiting_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "surrounding_vegetation": {
          "name": "surrounding_vegetation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_location": {
          "name": "device_location",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tree_record_latest_idx": {
          "name": "tree_record_latest_idx",
          "columns": [
            {
              "expression": "tree_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tree_record_priority_idx": {
          "name": "tree_record_priority_idx",
          "columns": [
            {
              "expression": "priority_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "priority_level IN ('high', 'urgent') AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tree_record_health_trends_idx": {
          "name": "tree_record_health_trends_idx",
          "columns": [
            {
              "expression": "tree_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "health_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "health_score IS NOT NULL AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tree_record_tree_id_tree_id_fk": {
          "name": "tree_record_tree_id_tree_id_fk",
          "tableFrom": "tree_record",
          "tableTo": "tree",
          "columnsFrom": [
            "tree_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tree_record_recorded_by_id_user_id_fk": {
          "name": "tree_record_recorded_by_id_user_id_fk",
          "tableFrom": "tree_record",
          "tableTo": "user",
          "columnsFrom": [
            "recorded_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tree_record_uid_unique": {
          "name": "tree_record_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "health_vitality_range": {
          "name": "health_vitality_range",
          "value": "(health_score IS NULL OR (health_score >= 0 AND health_score <= 100)) AND (vitality_score IS NULL OR (vitality_score >= 0 AND vitality_score <= 100))"
        },
        "measurements_positive": {
          "name": "measurements_positive",
          "value": "(height IS NULL OR height >= 0) AND (width IS NULL OR width >= 0)"
        },
        "recorded_at_not_future": {
          "name": "recorded_at_not_future",
          "value": "recorded_at <= NOW()"
        },
        "status_change_logic": {
          "name": "status_change_logic",
          "value": "(previous_status IS NULL AND new_status IS NULL) OR (previous_status IS NOT NULL AND new_status IS NOT NULL)"
        },
        "valid_severity": {
          "name": "valid_severity",
          "value": "findings_severity IS NULL OR findings_severity IN ('low', 'medium', 'high', 'critical')"
        },
        "valid_priority": {
          "name": "valid_priority",
          "value": "priority_level IS NULL OR priority_level IN ('low', 'normal', 'high', 'urgent')"
        }
      },
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth0_id": {
          "name": "auth0_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "primary_workspace_uid": {
          "name": "primary_workspace_uid",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_project_uid": {
          "name": "primary_project_uid",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "user_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'individual'"
        },
        "country": {
          "name": "country",
          "type": "char(3)",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_private": {
          "name": "is_private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "locale": {
          "name": "locale",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "flag": {
          "name": "flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag_reason": {
          "name": "flag_reason",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "migrated_at": {
          "name": "migrated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "existing_planet_user": {
          "name": "existing_planet_user",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "workspace_role": {
          "name": "workspace_role",
          "type": "workspace_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'member'"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_uid_unique": {
          "name": "user_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "user_auth0_id_unique": {
          "name": "user_auth0_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "auth0_id"
          ]
        },
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "user_slug_unique": {
          "name": "user_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "email_format": {
          "name": "email_format",
          "value": "email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,}$'"
        }
      },
      "isRLSEnabled": false
    },
    "public.workspace": {
      "name": "workspace",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "workspace_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_color": {
          "name": "primary_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_color": {
          "name": "secondary_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "workspace_created_by_idx": {
          "name": "workspace_created_by_idx",
          "columns": [
            {
              "expression": "created_by_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workspace_created_by_id_user_id_fk": {
          "name": "workspace_created_by_id_user_id_fk",
          "tableFrom": "workspace",
          "tableTo": "user",
          "columnsFrom": [
            "created_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_uid_unique": {
          "name": "workspace_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "workspace_slug_unique": {
          "name": "workspace_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "slug_format": {
          "name": "slug_format",
          "value": "slug ~* '^[a-z0-9-]+$' AND length(slug) >= 3"
        },
        "email_format": {
          "name": "email_format",
          "value": "email IS NULL OR email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,}$'"
        }
      },
      "isRLSEnabled": false
    },
    "public.workspace_member": {
      "name": "workspace_member",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uid": {
          "name": "uid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "workspace_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "status": {
          "name": "status",
          "type": "member_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "invited_by_id": {
          "name": "invited_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "workspace_members_workspace_idx": {
          "name": "workspace_members_workspace_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_members_user_idx": {
          "name": "workspace_members_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workspace_member_workspace_id_workspace_id_fk": {
          "name": "workspace_member_workspace_id_workspace_id_fk",
          "tableFrom": "workspace_member",
          "tableTo": "workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_member_user_id_user_id_fk": {
          "name": "workspace_member_user_id_user_id_fk",
          "tableFrom": "workspace_member",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_member_invited_by_id_user_id_fk": {
          "name": "workspace_member_invited_by_id_user_id_fk",
          "tableFrom": "workspace_member",
          "tableTo": "user",
          "columnsFrom": [
            "invited_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_member_uid_unique": {
          "name": "workspace_member_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uid"
          ]
        },
        "unique_workspace_membership": {
          "name": "unique_workspace_membership",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "joined_after_invited": {
          "name": "joined_after_invited",
          "value": "invited_at IS NULL OR joined_at >= invited_at"
        },
        "active_status_logic": {
          "name": "active_status_logic",
          "value": "status != 'active' OR joined_at IS NOT NULL"
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.audit_action": {
      "name": "audit_action",
      "schema": "public",
      "values": [
        "create",
        "update",
        "delete",
        "soft_delete",
        "restore",
        "login",
        "logout",
        "invite",
        "accept_invite",
        "decline_invite",
        "role_change",
        "permission_change",
        "export",
        "import",
        "archive",
        "unarchive",
        "impersonation"
      ]
    },
    "public.audit_entity": {
      "name": "audit_entity",
      "schema": "public",
      "values": [
        "user",
        "workspace",
        "workspace_member",
        "project",
        "project_member",
        "site",
        "intervention",
        "tree",
        "tree_record",
        "scientific_species",
        "project_species",
        "species_request",
        "project_invite",
        "bulk_invite",
        "image",
        "notification",
        "migration"
      ]
    },
    "public.capture_mode": {
      "name": "capture_mode",
      "schema": "public",
      "values": [
        "on-site",
        "off-site",
        "external",
        "unknown",
        "web-upload"
      ]
    },
    "public.capture_status": {
      "name": "capture_status",
      "schema": "public",
      "values": [
        "complete",
        "partial",
        "incomplete"
      ]
    },
    "public.entity_type": {
      "name": "entity_type",
      "schema": "public",
      "values": [
        "users",
        "projects",
        "interventions",
        "species",
        "sites",
        "images"
      ]
    },
    "public.image_entity": {
      "name": "image_entity",
      "schema": "public",
      "values": [
        "project",
        "site",
        "user",
        "intervention",
        "tree"
      ]
    },
    "public.image_type": {
      "name": "image_type",
      "schema": "public",
      "values": [
        "before",
        "during",
        "after",
        "detail",
        "overview",
        "progress",
        "aerial",
        "ground",
        "record"
      ]
    },
    "public.image_upload_device": {
      "name": "image_upload_device",
      "schema": "public",
      "values": [
        "web",
        "mobile"
      ]
    },
    "public.intervention_discriminator": {
      "name": "intervention_discriminator",
      "schema": "public",
      "values": [
        "plot",
        "intervention"
      ]
    },
    "public.intervention_status": {
      "name": "intervention_status",
      "schema": "public",
      "values": [
        "planned",
        "active",
        "completed",
        "failed",
        "on-hold",
        "cancelled"
      ]
    },
    "public.intervention_type": {
      "name": "intervention_type",
      "schema": "public",
      "values": [
        "assisting-seed-rain",
        "control-livestock",
        "direct-seeding",
        "enrichment-planting",
        "fencing",
        "fire-patrol",
        "fire-suppression",
        "firebreaks",
        "generic-tree-registration",
        "grass-suppression",
        "liberating-regenerant",
        "maintenance",
        "marking-regenerant",
        "multi-tree-registration",
        "other-intervention",
        "plot-plant-registration",
        "removal-invasive-species",
        "sample-tree-registration",
        "single-tree-registration",
        "soil-improvement",
        "stop-tree-harvesting"
      ]
    },
    "public.invite_status": {
      "name": "invite_status",
      "schema": "public",
      "values": [
        "pending",
        "accepted",
        "declined",
        "expired",
        "discarded"
      ]
    },
    "public.log_level": {
      "name": "log_level",
      "schema": "public",
      "values": [
        "debug",
        "info",
        "warning",
        "error",
        "fatal"
      ]
    },
    "public.member_status": {
      "name": "member_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "suspended",
        "pending"
      ]
    },
    "public.migration_status": {
      "name": "migration_status",
      "schema": "public",
      "values": [
        "in_progress",
        "completed",
        "failed",
        "started"
      ]
    },
    "public.notification_type": {
      "name": "notification_type",
      "schema": "public",
      "values": [
        "project",
        "site",
        "member",
        "intervention",
        "tree",
        "species",
        "user",
        "invite",
        "system",
        "other"
      ]
    },
    "public.project_role": {
      "name": "project_role",
      "schema": "public",
      "values": [
        "owner",
        "admin",
        "contributor",
        "observer"
      ]
    },
    "public.record_type": {
      "name": "record_type",
      "schema": "public",
      "values": [
        "planting",
        "measurement",
        "status_change",
        "inspection",
        "maintenance",
        "death",
        "removal",
        "health_assessment",
        "growth_monitoring"
      ]
    },
    "public.site_access": {
      "name": "site_access",
      "schema": "public",
      "values": [
        "all_sites",
        "deny_all",
        "read_only",
        "limited_access"
      ]
    },
    "public.site_status": {
      "name": "site_status",
      "schema": "public",
      "values": [
        "planted",
        "planting",
        "barren",
        "reforestation",
        "planning"
      ]
    },
    "public.species_request_status": {
      "name": "species_request_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "public.tree_status": {
      "name": "tree_status",
      "schema": "public",
      "values": [
        "alive",
        "dead",
        "unknown",
        "removed",
        "sick"
      ]
    },
    "public.tree_enum": {
      "name": "tree_enum",
      "schema": "public",
      "values": [
        "single",
        "sample",
        "plot"
      ]
    },
    "public.user_type": {
      "name": "user_type",
      "schema": "public",
      "values": [
        "individual",
        "tpo",
        "organization",
        "other",
        "school",
        "superadmin"
      ]
    },
    "public.workspace_role": {
      "name": "workspace_role",
      "schema": "public",
      "values": [
        "owner",
        "admin",
        "member"
      ]
    },
    "public.workspace_type": {
      "name": "workspace_type",
      "schema": "public",
      "values": [
        "platform",
        "private",
        "development",
        "premium"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}